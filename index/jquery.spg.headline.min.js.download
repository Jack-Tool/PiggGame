(function(e){function p(g,a){var c,f,h,d=0,b=g.length;e.isArray(a)&&(a=a.join(", "));switch(typeof a){case "string":for(h=e("#"+a);d<b;d++)f=g[d],c=f.viewType,h.spgHeadline(c,f);break;case "object":for(;d<b;d++)f=g[d],c=f.viewType,h=a[c]||a["default"]||"body",e.isArray(h)&&(h=h.join(", ")),e("#"+h).spgHeadline(c,f);break;default:console.error("output\u5148\u306e\u6307\u5b9a\u304c\u4e0d\u6b63\u3067\u3059");return}"slide_banner"==f.viewType&&e("#"+n+" .slider").spgSlider({auto:5E3})}function q(g,a,
c){for(var f,h=0,d=g.length;h<d;h++)f=g[h],a.indexOf(-1!=f.viewType)&&e("#"+c).spgHeadline(f.viewType,f);return f}var n,j=!1,o=!1;e.spgHeadline=function(){for(var g=Array.prototype.slice.apply(arguments),a=[],c=0,f=g.length;c<f;c++)switch(typeof g[c]){case "string":a.push(g[c]);break;case "object":a.push(Object.keys(g[c])[0])}e.getJSON("/api/news/?locations="+a.join(",")).then(function(a){var d;for(c=0;c<f;c++)if(n=d=g[c],""==a[d])e("#"+d).hide();else switch(e("#"+d).show(),typeof d){case "string":if(void 0==
a[d])continue;p(a[d],d);continue;case "object":var b=Object.keys(d)[0];q(a[b],d[b],b)}o&&require&&require(["/js/common/spg.amb.tracks.min.js"],function(a){a.setEvents()})},function(){console.error("\u30cb\u30e5\u30fc\u30b9\u306e\u53d6\u5f97\u306b\u5931\u6557\u3057\u307e\u3057\u305f")})};e.fn.spgHeadline=function(g,a){if(e.isFunction(this.each))return this.each(function(){var c=e(this).data("spgHeadline");void 0==c&&(c=new e.fn.spgHeadline,e(this).data("spgHeadline",c));c.render(g,a,this)})};e.extend(e.fn.spgHeadline.prototype,
{VIEW_TYPE:{BANNER:"banner",TEXT:"text",ICON_TEXT:"icon_text",IMAGE_TEXT:"image_text",STAMP:"stamp_get",COORDINATE:"coordinate",IMAGE100X100_TEXT:"image100x100_text",SLIDEBANNER:"slide_banner",IMAGE:"image"},render:function(g,a,c){var c=e(c),f=e(".spg-news-"+g+"-container",c),h="",d=!1;a.trackingParam&&""!==a.trackingParam.option?o=j=!0:j=!1;switch(g){case this.VIEW_TYPE.TEXT:a='<li class="spg-news-text" data-news-id="'+a.id+'"><p class="spg-xsmall">'+(j?'<a href="javascript:void(0)" class="spgAmbTracks" data-href="'+
a.link+'" data-option="'+a.trackingParam.option+'" data-frmid="'+a.trackingParam.frm_id+'">'+a.title+"</a>":'<a href="'+a.link+'">'+a.title+"</a>")+"</p></li>";break;case this.VIEW_TYPE.ICON_TEXT:a='<li id="iconText">'+(j?'<a style="background-image:url('+a.imagePath+');" href="javascript:void(0)" class="spgAmbTracks" data-href="'+a.link+'" data-option="'+a.trackingParam.option+'" data-frmid="'+a.trackingParam.frm_id+'">'+a.title+"</a>":'<a style="background-image:url('+a.imagePath+');" href="'+a.link+
'">'+a.title+"</a>")+"</li>";break;case this.VIEW_TYPE.COORDINATE:var b=a.flags,i="",l='<dt class="coodTitle center">'+a.title+"</dt>";b.length&&(i='<div class="flags"><img src="/img/user/'+b[0]+'.png" alt="" width="36" height="36"></div>',l='<dt class="coodTitle">'+a.title+"</dt>");a='<li class="coodList">'+(j?'<a href="javascript:void(0)" class="spgAmbTracks" data-href="'+a.link+'" data-option="'+a.trackingParam.option+'" data-frmid="'+a.trackingParam.frm_id+'">'+i+'<dl class="cood">'+l+'<dd><img src="'+
a.imagePath+'" alt=""\u3000width="143" height="107" /></dd></dl></a>':'<a href="'+a.link+'">'+i+'<dl class="cood">'+l+'<dd><img src="'+a.imagePath+'" alt=""\u3000width="143" height="107" /></dd></dl></a>')+"</li>";break;case this.VIEW_TYPE.BANNER:a='<li class="spg-news-banner" data-news-id="'+a.id+'">'+(j?'<a href="javascript:void(0)" class="spgAmbTracks" data-href="'+a.link+'" data-option="'+a.trackingParam.option+'" data-frmid="'+a.trackingParam.frm_id+'"><img src="'+a.imagePath+'" width="100%" alt="'+
a.title+'"></a>':'<a href="'+a.link+'"><img src="'+a.imagePath+'" width="100%" alt="'+a.title+'"></a>')+"</li>";break;case this.VIEW_TYPE.IMAGE:a=e("#"+n+" img").attr("src",a.imagePath);break;case this.VIEW_TYPE.SLIDEBANNER:a="<li>"+(j?'<a href="javascript:void(0)" class="spgAmbTracks" data-href="'+a.link+'" data-option="'+a.trackingParam.option+'" data-frmid="'+a.trackingParam.frm_id+'"><img src="'+a.imagePath+'" width="310" alt="'+a.title+'"></a>':'<a href="'+a.link+'"><img src="'+a.imagePath+'" width="310" alt="'+
a.title+'"></a>')+"</li>";d=!0;break;case this.VIEW_TYPE.IMAGE_TEXT:b=a.flags;i=b.length;if(0==i||1==i&&0==b[0])b=a.flags,b=1==b.length&&0==b[0]?'<mark class="newIcon"><img alt="NEW" src="/img/common/icon/icon_new.png" class="spg-icon" style="width: 24px; height: 24px;"></mark>':"",a="<li>"+(j?'<a href="javascript:void(0)" class="spgAmbTracks spg-listgroup spg-arrowR" data-href="'+a.link+'" data-option="'+a.trackingParam.option+'" data-frmid="'+a.trackingParam.frm_id+'"><div class="spg-thumb"><img alt="'+
a.title+'" src="'+a.imagePath+'" height="57"></div><dl class="spg-listinner"><dt class="spg-small title"><strong>'+a.title+'</strong></dt><dd class="spg-xsmall spg-note description">'+a.description+"</dd></dl>"+b+"</a>":'<a href="'+a.link+'" class="spg-listgroup spg-arrowR"><div class="spg-thumb"><img alt="'+a.title+'" src="'+a.imagePath+'" height="57"></div><dl class="spg-listinner"><dt class="spg-small title"><strong>'+a.title+'</strong></dt><dd class="spg-xsmall spg-note description">'+a.description+
"</dd></dl>"+b+"</a>")+"</li>";else{for(var b="",i=a.flags,l=i.length,m="",k=0;k<l;k++)switch(i[k]){case 0:m='<mark class="newIcon"><img alt="NEW" src="/img/common/icon/icon_new.png" class="spg-icon" style="width: 24px; height: 24px;"></mark>';break;default:""==b&&(b='<dd class="type"><ul class="manyIcon">'),b+='<li><img src="/img/common/flags/'+i[k]+'.png" alt="" class="spg-icon" style="width: 62px; height: 11px;"></li>'}""!=b&&(b+="</ul></dd>");a="<li>"+(j?'<a href="javascript:void(0)" class="spgAmbTracks spg-listgroup spg-arrowR" data-href="'+
a.link+'" data-option="'+a.trackingParam.option+'" data-frmid="'+a.trackingParam.frm_id+'"><div class="spg-thumb"><img alt="'+a.title+'" src="'+a.imagePath+'" height="57"></div><dl class="spg-listinner"><dt class="spg-small title"><strong>'+a.title+'</strong></dt><dd class="spg-xsmall spg-note description">'+a.description+"</dd>"+b+"</dl>"+m+"</a>":'<a href="'+a.link+'" class="spg-listgroup spg-arrowR"><div class="spg-thumb"><img alt="'+a.title+'" src="'+a.imagePath+'" height="57"></div><dl class="spg-listinner"><dt class="spg-small title"><strong>'+
a.title+'</strong></dt><dd class="spg-xsmall spg-note description">'+a.description+"</dd>"+b+"</dl>"+m+"</a>")+"</li>"}h+=" spg-listview spg-noLastLine";break;case this.VIEW_TYPE.IMAGE100X100_TEXT:b="";i=a.flags;l=i.length;m="";for(k=0;k<l;k++)switch(i[k]){case 0:m='<mark class="newIcon"><img alt="NEW" src="/img/common/icon/icon_new.png" class="spg-icon" style="width: 24px; height: 24px;"></mark>';break;default:""==b&&(b='<dd class="type"><ul class="manyIcon">'),b+='<li><img src="/img/common/flags/'+
i[k]+'.png" alt="" class="spg-icon" style="width: 62px; height: 11px;"></li>'}""!=b&&(b+="</ul></dd>");a="<li>"+(j?'<a href="javascript:void(0)" class="spgAmbTracks spg-listgroup spg-arrowR" data-href="'+a.link+'" data-option="'+a.trackingParam.option+'" data-frmid="'+a.trackingParam.frm_id+'"><div class="spg-thumb"><img alt="'+a.title+'" src="'+a.imagePath+'" height="57"></div><dl class="spg-listinner"><dt class="spg-medium title spg-stripe4"><strong>'+a.title+'</strong></dt><dd class="spg-xsmall spg-note description">'+
a.description+"</dd>"+b+"</dl>"+m+"</a>":'<a href="'+a.link+'" class="spg-listgroup spg-arrowR"><div class="spg-thumb"><img alt="'+a.title+'" src="'+a.imagePath+'" height="57"></div><dl class="spg-listinner"><dt class="spg-medium title spg-stripe4"><strong>'+a.title+'</strong></dt><dd class="spg-xsmall spg-note description">'+a.description+"</dd>"+b+"</dl>"+m+"</a>")+"</li>";h+=" spg-pickupListView spg-listview spg-noLastLine";break;default:return}g!=this.VIEW_TYPE.IMAGE&&(0==f.length&&!1==d?e('<ul class="spg-news-'+
g+"-container"+h+'">'+a+"</ul>").appendTo(c):0==f.length&&d?e(a).appendTo("#"+n+" .slider ul"):f.append(a))}})})(jQuery);